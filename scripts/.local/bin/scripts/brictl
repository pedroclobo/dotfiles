#!/bin/sh
# Control the brightness level

# Brightness device
DEVICE=$(light -L | grep "ddcci" | xargs)

# Signal dwmblocks for a module update
update_bar() {
	kill -36 $(pidof dwmblocks)
}

# Lower the brightness by the value passed
lower_brightness() {
	light -s "$DEVICE" -U "$1"
}

# Raise the brightness by the value passed
raise_brightness() {
	light -s "$DEVICE" -A "$1"
}

case "$1" in
	"-"[0-9]*) lower_brightness "${1#?}" ; update_bar ;;
	"+"[0-9]*) raise_brightness "${1#?}" ; update_bar ;;
	*) echo "Invalid input!" ;;
esac
