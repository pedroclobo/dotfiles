#!/bin/sh
# Compile files, based on their type

# C Flags
CFLAGS="-g"

# File information
file=$(readlink -f "$1")
dir=${file%/*}
filename="${file%.*}"
ext="${file##*.}"

echo "$file"

cd "$dir" || exit
case "$ext" in
	c) gcc $CFLAGS "$file" -o "$filename" ;;
	cpp) g++ $CFLAGS "$file" -o "$filename" ;;
	java) javac "$file" ;;
	rmd) Rscript -e "rmarkdown::render('$file', 'pdf_document', quiet=TRUE)" ;;
esac
