#!/bin/sh

volume=$(pulsemixer --get-volume | sed 's/\s.*$//')
mute=$(pulsemixer --get-mute)

# Icons and labels
[ "$mute" = 0 ] && [ "$volume" = 0 ] && icon="ðŸ”ˆ"
[ "$mute" = 0 ] && [ "$volume" -gt 0 ] && [ "$volume" -lt 50 ] && icon="ðŸ”‰ "
[ "$mute" = 0 ] && [ "$volume" -ge 50 ] && icon="ðŸ”Š "
[ "$mute" = 1 ] && icon="ðŸ”ˆ" &&	label="MUTED"


# Output
[ "$mute" = 0 ] && echo " $icon$volume%" || echo "$icon$label"

# Buttons
case "$BUTTON" in
	1) volume-change mute ;;
	2) "$TERMINAL" -e "$EDITOR" "$0" ;;
	3) "$TERMINAL" -e pulsemixer ;;
	4) volume-change +5 ;;
	5) volume-change -5 ;;
esac
